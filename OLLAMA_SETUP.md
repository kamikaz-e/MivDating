# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ollama –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- **–ú–æ–¥–µ–ª—å:** qwen3:14b (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
- **Embedding –º–æ–¥–µ–ª—å:** nomic-embed-text:latest (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
- **Ollama –≤–µ—Ä—Å–∏—è:** 0.13.1
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–ø—É—â–µ–Ω

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ollama list

# –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
# qwen3:14b
# nomic-embed-text:latest
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
curl http://localhost:11434/api/version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª–∏
curl http://localhost:11434/api/tags
```

### 3. –¢–µ—Å—Ç –º–æ–¥–µ–ª–∏

```bash
# –¢–µ—Å—Ç qwen3:14b
curl http://localhost:11434/api/generate -d '{
  "model": "qwen3:14b",
  "prompt": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?",
  "stream": false
}'
```

## üì± –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –î–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞ Android

1. **Ollama –¥–æ–ª–∂–µ–Ω —Å–ª—É—à–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `http://10.0.2.2:11434`
   - –≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ localhost —Ö–æ—Å—Ç–∞ –∏–∑ —ç–º—É–ª—è—Ç–æ—Ä–∞

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä
   adb install -r app/build/outputs/apk/debug/app-debug.apk

   # –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Android Studio
   ./gradlew installDebug
   ```

3. **–°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏**
   ```bash
   # –§–∏–ª—å—Ç—Ä –ø–æ OllamaClient
   adb logcat | grep OllamaClient

   # –§–∏–ª—å—Ç—Ä –ø–æ RAGViewModel
   adb logcat | grep RAGViewModel

   # –í—Å–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   adb logcat | grep "dev.kamikaze.mivdating"
   ```

### –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

1. **–£–∑–Ω–∞—Ç—å IP –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞**
   ```bash
   ifconfig | grep "inet " | grep -v 127.0.0.1
   ```

2. **–ò–∑–º–µ–Ω–∏—Ç—å baseUrl –≤ OllamaClient.kt**
   ```kotlin
   class OllamaClient(
       private val baseUrl: String = "http://<IP_–í–ê–®–ï–ì–û_–ö–û–ú–ü–¨–Æ–¢–ï–†–ê>:11434",
       // ...
   )
   ```

3. **–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Ollama –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ —Å–µ—Ç–∏**
   ```bash
   # –° –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏
   curl http://<IP_–í–ê–®–ï–ì–û_–ö–û–ú–ü–¨–Æ–¢–ï–†–ê>:11434/api/version
   ```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Model qwen3:14b not found"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–¥–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
ollama list | grep qwen3:14b

# –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
ollama pull qwen3:14b
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused" –∏–ª–∏ "Timeout"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω:
   ```bash
   ps aux | grep ollama
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç 11434 –æ—Ç–∫—Ä—ã—Ç:
   ```bash
   lsof -i :11434
   ```

3. –î–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞ - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–¥—Ä–µ—Å `10.0.2.2:11434`

4. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Ollama:
   ```bash
   # macOS
   pkill ollama
   ollama serve
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –æ—á–µ–Ω—å –¥–æ–ª–≥–æ

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –≤—Å–µ–≥–¥–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ –≤ –ø–∞–º—è—Ç—å)
- –ú–æ–¥–µ–ª—å qwen3:14b –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–∞—è (9.3 GB)
- Timeout —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 5 –º–∏–Ω—É—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–∂–¥–∞—Ç—å—Å—è –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è)
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –±—ã—Å—Ç—Ä–µ–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É CPU/RAM –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

### –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Ollama
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ qwen3:14b
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API (–º–µ—Ç–æ–¥, –º–æ–¥–µ–ª—å, —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è)
- ‚úÖ –í—Å–µ –æ—Ç–≤–µ—Ç—ã (—Å—Ç–∞—Ç—É—Å, —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞)
- ‚úÖ –û—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**qwen3:14b (Q4_K_M):**
- –†–∞–∑–º–µ—Ä: 9.3 GB
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: 14.8B
- RAM —Ç—Ä–µ–±—É–µ—Ç—Å—è: ~12-16 GB
- –°–∫–æ—Ä–æ—Å—Ç—å: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∂–µ–ª–µ–∑–∞

**–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å:**
- 30-60 —Å–µ–∫—É–Ω–¥ (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏)

**–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã:**
- 5-30 —Å–µ–∫—É–Ω–¥ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–ª–∏–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

## üéØ –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```kotlin
class OllamaClient(
    private val baseUrl: String = "http://10.0.2.2:11434",
    private val embeddingModel: String = "nomic-embed-text",
    private val chatModel: String = "qwen3:14b"
)
```

**Timeout –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- Request timeout: 5 –º–∏–Ω—É—Ç
- Connect timeout: 30 —Å–µ–∫—É–Ω–¥
- Socket timeout: 5 –º–∏–Ω—É—Ç
